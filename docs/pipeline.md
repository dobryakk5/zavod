

# üöÄ **WORKFLOW: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ö–æ–Ω—Ç–µ–Ω—Ç-–§–∞–±—Ä–∏–∫–∞ —à–∞–≥ –∑–∞ —à–∞–≥–æ–º**

---

# **–®–ê–ì 1 ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ (Tenant)**

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏–ª–∏ —Ç—ã —Å–∞–º —Å–æ–∑–¥–∞—ë—Ç–µ –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞:

**Clients ‚Üí Add**

–£ –∫–ª–∏–µ–Ω—Ç–∞ –µ—Å—Ç—å:

* –Ω–∞–∑–≤–∞–Ω–∏–µ (–±—Ä–µ–Ω–¥)
* slug
* —Ç–∞–π–º–∑–æ–Ω–∞
* —Ç–µ–º—ã –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤
* –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–æ—Ü—Å–µ—Ç–∏

üë§ –ó–∞—Ç–µ–º –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∏–ª–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:

**User tenant roles ‚Üí Add**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: pavel
–ö–ª–∏–µ–Ω—Ç: –°—Ç—É–¥–∏—è —Ä–µ–º–æ–Ω—Ç–∞ X
–†–æ–ª—å: owner
```

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç **—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ**.

---

# **–®–ê–ì 2 ‚Äî –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ —Å–æ—Ü—Å–µ—Ç–µ–π**

**Social accounts ‚Üí Add**

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è:

* Instagram (Business API)
* Telegram (bot token + chat_id)
* YouTube (OAuth refresh token)

–•—Ä–∞–Ω–∏–º:

```
client_id
platform
access_token
refresh_token
extra JSON
```

–ö–∞–∂–¥—ã–π –∞–∫–∫ –ø–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `Schedule` –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π.

---

# **–®–ê–ì 3 ‚Äî –¢–µ–º—ã –∏ —Ç—Ä–µ–Ω–¥—ã**

(–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏–¥–µ–π)

### Topics

–¢—ã –∑–∞–≤–æ–¥–∏—à—å —Ç–µ–º—ã:

```
–†–µ–º–æ–Ω—Ç
–ò–Ω—Ç–µ—Ä—å–µ—Ä
–ú–∞—Ç–µ—Ä–∏–∞–ª—ã
–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
```

### Trend Items

–°–µ—Ä–≤–∏—Å (–∏–ª–∏ AI-–≤–æ—Ä–∫–µ—Ä) —Å–æ–±–∏—Ä–∞–µ—Ç:

* –Ω–æ–≤–æ—Å—Ç–∏ –æ—Ç—Ä–∞—Å–ª–∏
* –æ–±—Å—É–∂–¥–µ–Ω–∏—è
* —á—É–∂–∏–µ –ø–æ—Å—Ç—ã
* —Å—Ç–∞—Ç—å–∏
* TikTok —Ç—Ä–µ–Ω–¥—ã
* Google Trends
* Reddit/Telegram/YouTube —Å–∏–≥–Ω–∞–ª—ã

–ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫:

```
topic ‚Üí ¬´–ò–Ω—Ç–µ—Ä—å–µ—Ä¬ª
source_url ‚Üí https://...
summary ‚Üí –∫—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
raw_text ‚Üí –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç
thumbnail ‚Üí –∫–∞—Ä—Ç–∏–Ω–∫–∞
```

–≠—Ç–∞ –±–∞–∑–∞ ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

---

# **–®–ê–ì 4 ‚Äî –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞ –ø–æ—Å—Ç–∞ (AI)**

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç:

üëâ **‚ÄúCreate post ‚Üí Generate with AI‚Äù**
–∏–ª–∏
AI-–≤–æ—Ä–∫–µ—Ä –¥–µ–ª–∞–µ—Ç —ç—Ç–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:

* —Ç—Ä–µ–Ω–¥—ã
* —Ç–µ–º—ã –∫–ª–∏–µ–Ω—Ç–∞
* —Å—Ç–∏–ª—å –±—Ä–µ–Ω–¥–∞ (Brand Voice)
* —Å—Å—ã–ª–∫–∏ –∏–∑ Trend Items

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è:

* –∑–∞–≥–æ–ª–æ–≤–æ–∫
* —Ç–µ–∫—Å—Ç
* —Ö–µ—à—Ç–µ–≥–∏
* —Ñ–æ—Ç–æ 
* –∏–¥–µ—è –¥–ª—è Reels/Shorts
* –º–∏–Ω–∏-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤–∏–¥–µ–æ
* –ø—Ä–æ–º—Ç –¥–ª—è –±—É–¥—É—â–µ–≥–æ –≤–∏–¥–µ–æ-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞

–í –∞–¥–º–∏–Ω–∫–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π `Post`:

```
status = "ready"
```

---

# **–®–ê–ì 5 ‚Äî –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–ø–ø—Ä—É–≤**

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç:

**Posts ‚Üí Choose ‚Üí Edit**

–û–Ω –≤–∏–¥–∏—Ç:

* —Ç–µ–∫—Å—Ç
* –∫–∞—Ä—Ç–∏–Ω–∫—É
* –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–¥–µ–π
* —Ç–µ–≥–∏

–ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–∂–∏–º–∞–µ—Ç:

üëâ **Approve**

–¢–µ–ø–µ—Ä—å:

```
status = "approved"
```

---

# **–®–ê–ì 6 ‚Äî –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (Schedule)**

–ö–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç:

* –∫—É–¥–∞ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
* –∫–æ–≥–¥–∞
* –≤ –∫–∞–∫–æ–µ –≤—Ä–µ–º—è –¥–ª—è –∫–∞–∂–¥–æ–π —Å–æ—Ü—Å–µ—Ç–∏

–ü—Ä–∏–º–µ—Ä:

```
Post #102  
‚Üí Instagram –∞–∫–∫–∞—É–Ω—Ç: –∑–∞–≤—Ç—Ä–∞ –≤ 10:00  
‚Üí Telegram –∫–∞–Ω–∞–ª: –∑–∞–≤—Ç—Ä–∞ –≤ 10:05 
‚Üí YouTube Shorts: –∑–∞–≤—Ç—Ä–∞ –≤ 10:15
```

–≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç **3 –∑–∞–ø–∏—Å–∏ –≤ Schedule**.

–ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å:

```
client ‚Üí –°—Ç—É–¥–∏—è —Ä–µ–º–æ–Ω—Ç–∞ X
post ‚Üí Post 102
social_account ‚Üí Instagram Business
scheduled_at ‚Üí 2025-11-28 10:00
status ‚Üí pending
```

---

# **–®–ê–ì 7 ‚Äî Celery worker –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏—é**

Celery –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥/minutes:

### 1) –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ **pending** –∑–∞–ø–∏—Å–∏

### 2) –ë–µ—Ä—ë—Ç –±–ª–∏–∂–∞–π—à–∏–µ

### 3) –ü—É–±–ª–∏–∫—É–µ—Ç –≤ —Å–æ—Ü—Å–µ—Ç—å

–ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑:

* Instagram Graph API
* Telegram Bot API
* YouTube Data API

–ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:

```
status = "published"
external_id = "facebook_post_8934234" 
log = "2025-11-27 10:00 OK"
```

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞:

```
status = "failed"
log = "Invalid token"
```

---

# **–®–ê–ì 8 ‚Äî –ü—É–±–ª–∏–∫–∞—Ü–∏—è Reels / Shorts**

–î–ª—è –≤–∏–¥–µ–æ –ø—Ä–æ—Ü–µ—Å—Å —á—É—Ç—å –¥–æ–ª—å—à–µ:

1. AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π.
2. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä (–∏–ª–∏ —á–µ–ª–æ–≤–µ–∫) —Å–æ–∑–¥–∞—ë—Ç –≤–∏–¥–µ–æ.
3. –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –º–æ–¥–µ–ª—å `Post.video`
4. –í —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–ø–∏—Å—å —Å —Ç–∏–ø–æ–º `video`.
5. –ü—É–±–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π API.

---

# **–®–ê–ì 9 ‚Äî –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**

–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ Celery:

* –∫–∞–∂–¥—ã–µ 3 —á–∞—Å–∞
* –∏–ª–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:00

–î–ª—è –∫–∞–∂–¥–æ–≥–æ `SocialAccount`:

* —Ç—è–Ω–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ—Å—Ç–æ–≤
* –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É `Schedule`
* –≤—ã—á–∏—Å–ª—è–µ—Ç:

  * –æ—Ö–≤–∞—Ç—ã
  * –ª–∞–π–∫–∏
  * –ø–µ—Ä–µ—Ö–æ–¥—ã
  * CTR
  * –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å
  * –ø—Ä–∏—Ä–æ—Å—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –º–æ–¥–µ–ª—å:

`PostAnalytics`
–∏–ª–∏ `AccountAnalytics`.

---

# **–®–ê–ì 10 ‚Äî –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç (Next.js frontend)**

Frontend —á–µ—Ä–µ–∑ API –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

### –ö–ª–∏–µ–Ω—Ç—É:

* —Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤
* —Ç—Ä–µ–Ω–¥—ã
* —á–µ—Ä–Ω–æ–≤–∏–∫–∏
* —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞
* –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø—É–±–ª–∏–∫–∞—Ü–∏–π
* —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ –ø–µ—Ä–∏–æ–¥
* –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–µ —Å–æ—Ü—Å–µ—Ç–∏

### –ê–¥–º–∏–Ω—É:

* –≤—Å–µ –∫–ª–∏–µ–Ω—Ç—ã
* –≤—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã
* –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
* –ª–æ–≥–∏ AI
* —Ç–æ–∫–µ–Ω—ã
* —Å—Ç–∞—Ç—É—Å –≤–æ—Ä–∫–µ—Ä–æ–≤

---

# **–ò—Ç–æ–≥: –ö–æ–Ω—Ç–µ–Ω—Ç-—Ñ–∞–±—Ä–∏–∫–∞ ‚Äî –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª**

```
–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ ‚Üí –ò–¥–µ–∏ ‚Üí AI ‚Üí –ü–æ—Å—Ç ‚Üí –ê–ø–ø—Ä—É–≤ ‚Üí Schedule ‚Üí –ü—É–±–ª–∏–∫–∞—Ü–∏—è ‚Üí –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

–ò –≤—Å—ë –º—É–ª—å—Ç–∏–∞—Ä–µ–Ω–¥–Ω–æ.

